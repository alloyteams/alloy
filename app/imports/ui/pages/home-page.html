<template name="Home_Page">
  {{#if Template.subscriptionsReady}}

  <div class="ui stackable grid container">

    {{#if currentUser}}
    <div class="six wide column">
      <div class="ui five row grid">
        <div class="row" id="notification-header">
          <h1 class="ui dividing header">
            Notifications
          </h1>
          <div class="ui padded grid">
            {{#if hasRequests}}
            {{#each request in (userDataField "pendingRequests")}}
            <div class="padded row">
              <div class="ui container">
                <div class="ui stackable cards">
                  <div class="card">
                    <div class="content">
                      <div class="header">
                        {{ projectName request}}
                      </div>
                      <div class="description">
                        {{projectName request}} has invited you to join
                        their project!
                      </div>
                    </div>
                    <div class="extra content">
                      <div class="ui two buttons">
                        <div class="ui basic green button"
                             id={{request}}>Approve
                        </div>
                        <div class="ui basic red button" id={{request}}>
                          Decline
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            {{/each}}
            {{else}}
            <div class="padded row">
              <div class="ui container">
                You have no notifications.
              </div>
            </div>
            {{/if}}
          </div>
        </div>
      </div>
    </div>

    {{else}}
    <div class="six wide column">
      <div class="ui five row grid">
        <div class="row">
          <div class="ui padded grid">
            <div class="padded row">
              <h1>
                <img class="alloy-icon" src="/images/alloy-icon.png">
                About Alloy
                <hr/>
              </h1>
              <p id="about-alloy">
                <!--
                TODO: change this 'about' to more closely focus on the needs of iLab and sPACE
                -->
                Alloy is a UH student-built tool to help members of the
                UH iLab and sPACE communities find projects and
                find people for projects of their own. Have an idea for a
                project that would look good on your resume? Want to do
                your
                own custom senior project? Or do you just want experiment
                and
                learn something new with other students who just want to
                do
                the same?
                <br>
                <br>
                Let Alloy help you find the teams that's right for
                what you want
              </p>
            </div>
            <div class="padded row">
              <h1>
                <img class="alloy-icon" src="/images/alloy-icon.png">
                Key Features
                <hr/>
              </h1>
              <ul class="ui list" id="alloy-features">
                <li>Create profiles that list your skills, interests, and
                  availability
                </li>
                <li>Create projects that other people can browse and join
                </li>
                <li>Search for people based on skills</li>
                <li>Follow people you want to work with to track their
                  projects
                </li>
                <li>Set up alerts for projects that might interest you
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    {{/if}}

    <!--<div class="ten wide column">-->
      <!--<div class="ui very padded stackable container">-->
      <!--</div>-->
    <!--</div>-->
  </div>

  {{>Suggested_Projects}}

  {{else}}
  <div class="ui stackable container">
    {{> Loading}}
  </div>
  {{/if}}
  <div class="ui basic invalid modal">
    <div class="header">
      Project Decline
    </div>
    <div class="image content">
      <div class="image">
        <i class="red user icon"></i>
      </div>
      <div class="description">
        <p>You have declined to join the project.</p>
      </div>
    </div>
    <div class="actions">
      <div class="ui ok red basic inverted button">
        <i class="checkmark icon"></i>
        OK
      </div>
    </div>
  </div>
  <div class="ui basic success modal">
    <div class="header">
      Success!
    </div>
    <div class="image content">
      <div class="image">
        <i class="green user icon"></i>
      </div>
      <div class="description">
        <p>You have successfully joined the project!</p>
      </div>
    </div>
    <div class="actions">
      <div class="ui ok green basic inverted button">
        <i class="checkmark icon"></i>
        OK
      </div>
    </div>
  </div>
</template>
