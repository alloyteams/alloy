<template name="Search">
  <!--  FIXME: adding #if Template.subscriptionsReady causes the Skills Wanted dropdown not to work -->
  {{#if currentUser}}

  <div class="ui stackable container">
    <div class="ui stackable grid">
      <div class="eight wide column">
        <div class="ui div container search-page-main-containers">
          <div class="ui raised padded segment">
            <h1>
              <img style="height:30px; width:auto"
                   src="/images/alloy-icon.png"> Search Projects
            </h1>
            <div class="ui container search-page-sub-containers">
              <form class="form-register-projects">
                <div class="field">
                  <div class="ui fluid multiple search selection dropdown">
                    <input name="skills" id="skills" type="hidden">
                    <i class="dropdown icon"></i>
                    <div class="default text">Skills</div>
                    <div class="menu">
                      {{#each vertex in getGraphSkills}}
                      <div class="item"
                           data-value="{{vertex.skillReadable}}">{{vertex.skillReadable}}
                      </div>
                      {{/each}}
                    </div>
                  </div>
                </div>

                <button type="submit" class="ui primary blue button" style="margin: 15px auto 0 auto;">
                  search
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>

      <div class="eight wide column">
        <div class="ui div container search-page-main-containers">
          <div class="ui raised padded segment">
            <h1>
              <img style="height:30px; width:auto" src="/images/alloy-icon.png">
              Search Users
            </h1>
            <div class="ui container search-page-sub-containers">
              <form class="form-register-users">
                <div class="field">
                  <div class="ui fluid multiple search selection dropdown">
                    <input name="skills" id="skills" type="hidden">
                    <i class="dropdown icon"></i>
                    <div class="default text">Skills</div>
                    <div class="menu">
                      {{#each vertex in getGraphSkills}}
                      <div class="item"
                           data-value="{{vertex.skillReadable}}">{{vertex.skillReadable}}
                      </div>
                      {{/each}}
                    </div>
                  </div>
                </div>

                <button type="submit" class="ui primary blue button" style="margin: 15px auto 0 auto;">
                  search
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  {{#if compareFound}}
    {{#each project in foundProjects}}
      <div class="ui container top-margin-30px">
        <div class="ui segment">
          <a href="{{ pathFor 'Project_Profile_Page' _id=(project._id) }}"
             class="ui ribbon label about-project-ribbon">
            <h3>{{project.projectName}}</h3>
          </a>
          <p class="top-margin-5px"><b>Skills
            Wanted: </b> {{project.skillsWanted}} </p>
          <p class="top-margin-5px">{{project.bio}}</p>
        </div>
      </div>
    {{/each}}

    {{#each user in foundUsers}}
      <div class="ui container top-margin-30px">
        <div class="ui segment">
          <a href="{{ pathFor 'User_Profile_Page_2' _id=(user._id) }}"
             class="ui ribbon label about-me-ribbon">
            <h3>{{user.username}}</h3>
          </a>
          <p class="top-margin-5px"><b>Skills: </b>{{user.skills}}</p>
        </div>
      </div>
    {{/each}}

    {{resetCompareBoolean}}
  {{else}}
    <div class="ui container top-margin-30px">
      <div class="ui segment">
        <p class="top-margin-5px">Great things are made by great teams! Alloy is an application for matching the right people to the right projects.</p>
      </div>
    </div>
  {{/if}}

  {{/if}}
</template>
